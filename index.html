<!DOCTYPE html>
<html>
<head>
  <title>UBC Dataset Leaflet Map</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <style>
    #map { height: 100vh; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    var map = L.map('map').setView([49.2606, -123.2460], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    function style(feature) {
      return {
        fillColor: '#ff7800',
        weight: 2,
        opacity: 1,
        color: 'white',
        fillOpacity: 0.7
      };
    }

    function highlightFeature(e) {
      var layer = e.target;

      layer.setStyle({
        weight: 5,
        color: '#666',
        dashArray: '',
        fillOpacity: 0.7
      });

      if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
        layer.bringToFront();
      }
    }

    function resetHighlight(e) {
      geojson.resetStyle(e.target);
    }

    function onEachFeature(feature, layer) {
      layer.on({
        mouseover: highlightFeature,
        mouseout: resetHighlight
      });
    }

    var geojsonUrl = "https://raw.githubusercontent.com/UBCGeodata/ubcv-parking/7b0824dd4ed4b1f099809f176a46f60e0ca8368f/geojson/ubcv_parking_www_poly.geojson";
    
    $.getJSON(geojsonUrl, function(data) {
      L.geoJson(data, {style: style, onEachFeature: onEachFeature}).addTo(map);
    });
  </script>
</body>
</html>
